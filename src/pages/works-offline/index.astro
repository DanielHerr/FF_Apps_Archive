---
import * as Content from "astro:content"

import Metadata from "../../components/common_metadata.astro"
import Header from "../../components/header.astro"
import Footer from "../../components/footer.astro"
import AppsList from "../../components/apps_list.astro"

import { live } from "../../validate_hosted_apps.js"

let packaged = await Content.getCollection("metadata", app => app.data.app_type != "hosted")
let apps = packaged.concat(live).filter(app => app.data.is_offline)
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="/common.css">
		<link rel="stylesheet" href="/lists.css">
		<link rel="icon" href={ "/icons/works-offline.png" } type="image/png">
		<Metadata/>
		<title>Works Offline - FF Apps Archive</title>
	</head>
	<body>
		<Header/>
		<main>
			<header>
				<img src={ "/icons/works-offline.png" } alt="" width="40" height="40">
				<h2>Works Offline</h2>
			</header>
			<AppsList apps={ apps }/>
		</main>
		<Footer/>
	</body>
</html>