---
import * as Content from "astro:content"

import Imports from "../../components/common_imports.astro"
import Metadata from "../../components/common_metadata.astro"
import Header from "../../components/header.astro"
import Footer from "../../components/footer.astro"
import AppsList from "../../components/apps_list.astro"

import { live } from "../../validate_hosted_apps.js"

let packaged = await Content.getCollection("metadata", app => app.data.app_type != "hosted")
let apps = packaged.concat(live)
---

<!doctype html>
<html lang="en">
	<head>
		<Imports/>
		<link rel="stylesheet" href="/lists.css">
		<Metadata/>
		<title>All Apps - FF Apps Archive</title>
	</head>
	<body>
		<Header/>
		<main>
			<header>
				<h2>All Apps</h2>
			</header>
			<AppsList apps={ apps }/>
		</main>
		<Footer/>
	</body>
</html>